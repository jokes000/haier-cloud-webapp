<?xml version="1.0" encoding="UTF-8" ?>
<persistence xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd" version="1.0">

    <!-- Tutorial "unit" -->
    #foreach($datasource in $datasources)
<persistence-unit name="${datasource.type}-${datasource.name}${datasource.index}">
        #foreach($bean in $datasource.getVbs())
        <class>${bean.packageName}.${bean.className}</class>
        #end
        <exclude-unlisted-classes/>


        	<properties>
            #if($datasource.type=="mysql")
<!-- ENABLE THESE FOR H2 -->
	            <property name="javax.persistence.jdbc.url" value="jdbc:mysql://${datasource.url}/${datasource.databaseName}?characterEncoding=utf-8"/>
	            <property name="javax.persistence.jdbc.driver" value="com.mysql.jdbc.Driver"/>
	            <property name="javax.persistence.jdbc.user" value="${datasource.user}"/>
	            <property name="javax.persistence.jdbc.password" value="${datasource.password}"/>
            #elseif($datasource.type=="mongodb")
            <property name="javax.persistence.jdbc.url" value="mongodb:/${datasource.url}"/> 
            #end
</properties>
    </persistence-unit>
#end
</persistence>
